<Window x:Class="NutritionOptimizer.UI.Views.NutritionTemplateEditorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:System="clr-namespace:System;assembly=mscorlib"
        Title="영양성분 템플릿 편집"
        Height="750"
        Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- 제목 -->
        <TextBlock Grid.Row="0"
                   Text="영양성분 템플릿 편집"
                   FontSize="18"
                   FontWeight="Bold"
                   Margin="0 0 0 16" />

        <!-- 입력 폼 -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- ID -->
                <TextBlock Text="ID" FontWeight="SemiBold" />
                <TextBox Text="{Binding Id}"
                         IsReadOnly="True"
                         Background="#F5F5F5"
                         Margin="0 4 0 12" />

                <!-- 이름 -->
                <TextBlock Text="이름 *" FontWeight="SemiBold" />
                <TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0 4 0 12" />

                <!-- 구분 -->
                <TextBlock Text="구분 *" FontWeight="SemiBold" />
                <ComboBox SelectedItem="{Binding Type}"
                          Margin="0 4 0 12">
                    <ComboBox.Items>
                        <System:String>식재료</System:String>
                        <System:String>요리</System:String>
                    </ComboBox.Items>
                </ComboBox>

                <!-- 분류 -->
                <TextBlock Text="분류 *" FontWeight="SemiBold" />
                <TextBox Text="{Binding Category, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0 4 0 12" />

                <!-- 브랜드 -->
                <TextBlock Text="브랜드 *" FontWeight="SemiBold" />
                <TextBox Text="{Binding Brand, UpdateSourceTrigger=PropertyChanged}"
                         Margin="0 4 0 12" />

                <!-- 단위 선택 -->
                <TextBlock Text="영양성분 기준 단위 *" FontWeight="SemiBold" />
                <ComboBox SelectedItem="{Binding WeightUnit}"
                          Margin="0 4 0 12">
                    <ComboBox.Items>
                        <System:String>100g</System:String>
                        <System:String>100ml</System:String>
                    </ComboBox.Items>
                </ComboBox>

                <!-- 안내 문구 -->
                <TextBlock Text="💡 가격 정보는 '템플릿 관리 > 가격 이력'에서 관리하세요"
                           Foreground="DarkOrange"
                           FontSize="12"
                           TextWrapping="Wrap"
                           Margin="0 4 0 12" />

                <!-- 주요 영양소 -->
                <Separator Margin="0 12 0 16" />
                <TextBlock FontWeight="Bold" FontSize="15" Margin="0 0 0 12">
                    <Run Text="주요 영양소 (" />
                    <Run Text="{Binding WeightUnit}" />
                    <Run Text=" 기준)" />
                </TextBlock>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- 칼로리 -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="칼로리(kcal)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding Kcal}" Margin="0 0 0 8" />

                    <!-- 수분 -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="수분(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding MoistureG}" Margin="0 0 0 8" />

                    <!-- 단백질 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="단백질(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding ProteinG}" Margin="0 0 0 8" />

                    <!-- 지방 -->
                    <TextBlock Grid.Row="3" Grid.Column="0" Text="지방(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding FatG}" Margin="0 0 0 8" />

                    <!-- 포화지방 -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="포화지방(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding SaturatedFatG}" Margin="0 0 0 8" />

                    <!-- 트랜스지방 -->
                    <TextBlock Grid.Row="5" Grid.Column="0" Text="트랜스지방(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding TransFatG}" Margin="0 0 0 8" />

                    <!-- 탄수화물 -->
                    <TextBlock Grid.Row="6" Grid.Column="0" Text="탄수화물(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding CarbsG}" Margin="0 0 0 8" />

                    <!-- 식이섬유 -->
                    <TextBlock Grid.Row="7" Grid.Column="0" Text="식이섬유(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding FiberG}" Margin="0 0 0 8" />
                </Grid>

                <Grid Margin="0 0 0 12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!-- 당류 -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="당류(g)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding SugarG}" Margin="0 0 0 8" />

                    <!-- 나트륨 -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="나트륨(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding SodiumMg}" Margin="0 0 0 8" />

                    <!-- 콜레스테롤 -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="콜레스테롤(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding CholesterolMg}" Margin="0 0 0 8" />
                </Grid>

                <!-- 무기질 -->
                <Separator Margin="0 12 0 16" />
                <TextBlock FontWeight="Bold" FontSize="15" Margin="0 0 0 12">
                    <Run Text="무기질 (" />
                    <Run Text="{Binding WeightUnit}" />
                    <Run Text=" 기준)" />
                </TextBlock>

                <Grid Margin="0 0 0 12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="칼슘(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding CalciumMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="철분(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding IronMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="마그네슘(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding MagnesiumMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="인(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding PhosphorusMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="4" Grid.Column="0" Text="칼륨(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding PotassiumMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="5" Grid.Column="0" Text="아연(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding ZincMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="6" Grid.Column="0" Text="구리(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding CopperMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="7" Grid.Column="0" Text="망간(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding ManganeseMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="8" Grid.Column="0" Text="셀레늄(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="8" Grid.Column="1" Text="{Binding SeleniumUg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="9" Grid.Column="0" Text="몰리브덴(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="9" Grid.Column="1" Text="{Binding MolybdenumUg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="10" Grid.Column="0" Text="요오드(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="10" Grid.Column="1" Text="{Binding IodineUg}" Margin="0 0 0 8" />
                </Grid>

                <!-- 비타민 -->
                <Separator Margin="0 12 0 16" />
                <TextBlock FontWeight="Bold" FontSize="15" Margin="0 0 0 12">
                    <Run Text="비타민 (" />
                    <Run Text="{Binding WeightUnit}" />
                    <Run Text=" 기준)" />
                </TextBlock>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="비타민 A(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding VitaminAUg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="비타민 C(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding VitaminCMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="비타민 D(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding VitaminDUg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="비타민 E(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding VitaminEMg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="4" Grid.Column="0" Text="비타민 K(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="4" Grid.Column="1" Text="{Binding VitaminKUg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="5" Grid.Column="0" Text="비타민 B1/티아민(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding VitaminB1Mg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="6" Grid.Column="0" Text="비타민 B2/리보플라빈(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding VitaminB2Mg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="7" Grid.Column="0" Text="비타민 B3/나이아신(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding VitaminB3Mg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="8" Grid.Column="0" Text="비타민 B5/판토텐산(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="8" Grid.Column="1" Text="{Binding VitaminB5Mg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="9" Grid.Column="0" Text="비타민 B6/피리독신(mg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="9" Grid.Column="1" Text="{Binding VitaminB6Mg}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="10" Grid.Column="0" Text="비타민 B7/비오틴(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="10" Grid.Column="1" Text="{Binding VitaminB7Ug}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="11" Grid.Column="0" Text="비타민 B9/엽산(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="11" Grid.Column="1" Text="{Binding VitaminB9Ug}" Margin="0 0 0 8" />

                    <TextBlock Grid.Row="12" Grid.Column="0" Text="비타민 B12/코발라민(μg)" FontWeight="SemiBold" Margin="0 0 8 4" />
                    <TextBox Grid.Row="12" Grid.Column="1" Text="{Binding VitaminB12Ug}" Margin="0 0 0 8" />
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <!-- 버튼 -->
        <StackPanel Grid.Row="2"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Margin="0 16 0 0">
            <Button Content="저장"
                    Width="80"
                    Height="32"
                    Margin="0 0 8 0"
                    Click="SaveButton_Click" />
            <Button Content="취소"
                    Width="80"
                    Height="32"
                    Click="CancelButton_Click" />
        </StackPanel>
    </Grid>
</Window>
